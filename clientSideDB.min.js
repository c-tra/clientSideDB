function ClientDatabase(t){this.name=t,this.init=function(t){console.log("Initialising database"),localStorage.setItem(this.name,JSON.stringify(t))},this.insert=function(t){var i=JSON.parse(localStorage.getItem(this.name));i?i.push(t):i=[t],localStorage.setItem(this.name,JSON.stringify(i))},this.find=function(t,i){var e=JSON.parse(localStorage.getItem(this.name)),n=[];if(e){for(var r=0;r<e.length;r+=1){var a=!0;for(var o in t)if(t.hasOwnProperty(o)){switch(typeof t[o]){case"string":t[o]!==e[r][o]&&(a=!1);break;case"number":t[o]!==parseInt(e[r][o],10)&&(a=!1);break;case"object":t[o].$min&&(a=parseInt(e[r][o],10)>=t[o].$min),t[o].$max&&(a=parseInt(e[r][o],10)<=t[o].$max);break;default:console.log("Erroneous Query")}if(!a)break}a&&n.push(e[r])}if(i){if(i.orderBy){var s=function(t,i){var e=function(i){return i[t]};return-1===i?function(t,i){return t=e(t),i=e(i),(i>t)-(t>i)}:function(t,i){return t=e(t),i=e(i),(t>i)-(i>t)}};n.sort(s(i.orderBy.field,i.orderBy.direction))}if(i.skip||i.limit){var l=i.skip?i.skip:0,c=i.limit?i.limit:void 0;n=n.slice(l,c+l)}}return n}console.log("Database not initialised, trying now")}}